(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{6396:function(e,s,t){Promise.resolve().then(t.bind(t,564))},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var r=t(2972),a=t.n(r)},9376:function(e,s,t){"use strict";var r=t(5475);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},564:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var r=t(7437),a=t(2265),l=t(9376),n=t(7648);function u(){let e=(0,l.useRouter)(),[s,t]=(0,a.useState)([]),[u,c]=(0,a.useState)(""),[o,i]=(0,a.useState)({name:"",email:"",password:"",specialty:"",licenseNumber:""});(0,a.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await fetch("/api/specialties"),s=await e.json();s.success&&s.data&&t(s.data)}catch(e){console.error("Failed to fetch specialties:",e)}},m=async s=>{s.preventDefault(),c("");try{let s=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),t=await s.json();t.success?e.push("/login"):c(t.error||"登録に失敗しました")}catch(e){c("登録中にエラーが発生しました")}},b=e=>{let{name:s,value:t}=e.target;i(e=>({...e,[s]:t}))};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center mb-8",children:"新規会員登録"}),u&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"名前"}),(0,r.jsx)("input",{type:"text",name:"name",value:o.name,onChange:b,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"メールアドレス"}),(0,r.jsx)("input",{type:"email",name:"email",value:o.email,onChange:b,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"パスワード"}),(0,r.jsx)("input",{type:"password",name:"password",value:o.password,onChange:b,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"専門分野"}),(0,r.jsxs)("select",{name:"specialty",value:o.specialty,onChange:b,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"選択してください"}),s.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"医師免許番号"}),(0,r.jsx)("input",{type:"text",name:"licenseNumber",value:o.licenseNumber,onChange:b,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition-colors",children:"登録"})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(n.default,{href:"/login",className:"text-blue-500 hover:text-blue-600",children:"すでにアカウントをお持ちの方はこちら"})})]})})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=6396)}),_N_E=e.O()}]);