(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{2353:function(e,t,s){Promise.resolve().then(s.bind(s,6398))},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6398:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(7437),n=s(2265),l=s(9376),c=s(3106);function i(){let e=(0,l.useRouter)(),[t,s]=(0,n.useState)(null),[i,a]=(0,n.useState)("");return((0,n.useEffect)(()=>{let t=(0,c.vF)();if(!t){e.push("/login");return}(async()=>{try{let e=await fetch("/api/me",{headers:{Authorization:"Bearer ".concat(t.id)}}),r=await e.json();r.success&&r.data?s(r.data):a(r.error||"ユーザー情報の取得に失敗しました")}catch(e){a("ユーザー情報の取得中にエラーが発生しました")}})()},[e]),t)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center mb-8",children:"マイページ"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"名前"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:t.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"メールアドレス"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:t.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"専門分野"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:t.specialty})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"医師免許番号"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:t.licenseNumber})]}),(0,r.jsx)("button",{onClick:()=>{(0,c.Jp)(),e.push("/login")},className:"w-full bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 transition-colors",children:"ログアウト"})]})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:i?(0,r.jsx)("div",{className:"text-red-600",children:i}):(0,r.jsx)("div",{children:"読み込み中..."})})})}},3106:function(e,t,s){"use strict";s.d(t,{Jp:function(){return l},tc:function(){return n},vF:function(){return r}});let r=()=>{let e=localStorage.getItem("user");return e?JSON.parse(e):null},n=e=>{localStorage.setItem("user",JSON.stringify(e))},l=()=>{localStorage.removeItem("user")}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2353)}),_N_E=e.O()}]);