(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6919:function(e,t,r){Promise.resolve().then(r.bind(r,8991))},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var s=r(2972),n=r.n(s)},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8991:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(7437),n=r(2265),a=r(9376),u=r(7648),l=r(3106);function o(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)(""),[o,c]=(0,n.useState)({email:"",password:""}),i=async t=>{t.preventDefault(),r("");try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),s=await t.json();s.success&&s.data?((0,l.tc)(s.data),e.push("/mypage")):r(s.error||"ログインに失敗しました")}catch(e){r("ログイン中にエラーが発生しました")}},d=e=>{let{name:t,value:r}=e.target;c(e=>({...e,[t]:r}))};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-center mb-8",children:"ログイン"}),t&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:t}),(0,s.jsxs)("form",{onSubmit:i,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"メールアドレス"}),(0,s.jsx)("input",{type:"email",name:"email",value:o.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"パスワード"}),(0,s.jsx)("input",{type:"password",name:"password",value:o.password,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition-colors",children:"ログイン"})]}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)(u.default,{href:"/register",className:"text-blue-500 hover:text-blue-600",children:"アカウントをお持ちでない方はこちら"})})]})})}},3106:function(e,t,r){"use strict";r.d(t,{Jp:function(){return a},tc:function(){return n},vF:function(){return s}});let s=()=>{let e=localStorage.getItem("user");return e?JSON.parse(e):null},n=e=>{localStorage.setItem("user",JSON.stringify(e))},a=()=>{localStorage.removeItem("user")}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=6919)}),_N_E=e.O()}]);